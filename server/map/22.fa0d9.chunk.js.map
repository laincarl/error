{"version":3,"sources":["webpack:///./src/test-cases/Material/Test.js","webpack:///./src/test-cases/Material/Material.css","webpack:///./src/test-cases/Material/Material.js","webpack:///./src/test-cases/Material/Ripple.js","webpack:///./src/test-cases/Material/classnames.js","webpack:///./src/test-cases/Material/Material.css?234d"],"names":["Test","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","_Material__WEBPACK_IMPORTED_MODULE_1__","style","height","width","border","userSelect","Component","__webpack_exports__","module","exports","__webpack_require__","push","i","Material","state","index","ripples","saveRef","name","ref","_this","handleMouseDown","e","wrapperHeight","rippleWrapper","getBoundingClientRect","wrapperWidth","r","Math","sqrt","left","clientX","top","clientY","_this$state","ripple","_Ripple__WEBPACK_IMPORTED_MODULE_3__","key","setState","concat","_toConsumableArray","removeRipple","length","rippleChild","className","react_transition_group__WEBPACK_IMPORTED_MODULE_2__","component","renderChildrenWithRipple","_child$props","React","Children","only","props","children","cloneElement","onMouseDown","_objectSpread","position","document","addEventListener","this","removeEventListener","propTypes","PropTypes","element","isRequired","duration","Ripple","entering","leaving","onEnter","node","setTimeout","onExit","_this$props","otherProps","_objectWithoutProperties","react_transition_group__WEBPACK_IMPORTED_MODULE_1__","_extends","timeout","enter","exit","classNames","ripple-active","ripple-done","classes","_len","arguments","args","Array","_key","forEach","arg","_typeof","Object","keys","join","content","options","hmr","transform","insertInto","undefined","update","locals","hot","accept","newContent","b","idx","Error","dispose"],"mappings":"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","file":"app/chunks/22.fa0d9.chunk.js","sourcesContent":["\r\nimport React, { Component } from 'react';\r\nimport Material from './Material';\r\n\r\nclass Test extends Component {\r\n  render() {\r\n    return (\r\n      <Material>          \r\n        <div style={{\r\n          height: 200, width: 200, border: '1px solid black', userSelect: 'none', \r\n        }}\r\n        >\r\n            点击会有Material水波效果\r\n        </div>\r\n      </Material>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Test;\r\n","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ripple-wrapper {\\r\\n  pointer-events: none;\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  bottom: 0;\\r\\n  left: 0;\\r\\n  right: 0;\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.ripple {\\r\\n  position: absolute;\\r\\n  opacity: 0.2;\\r\\n  background: rgba(0, 0, 0, 0.25);\\r\\n  pointer-events: none;\\r\\n  border-radius: 50%;\\r\\n  transition: all 0.5s linear;\\r\\n  -webkit-transform: scale(0);\\r\\n          transform: scale(0);\\r\\n}\\r\\n\\r\\n.ripple-active {\\r\\n  opacity: 0.6;\\r\\n  -webkit-transform: scale(1);\\r\\n          transform: scale(1);\\r\\n}\\r\\n\\r\\n.ripple-done {\\r\\n  opacity: 0;\\r\\n}\", \"\"]);\n\n// exports\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { TransitionGroup } from 'react-transition-group';\r\nimport Ripple from './Ripple';\r\n\r\nimport './Material.css';\r\n\r\nclass Material extends Component {\r\n  state = {\r\n    index: 0,\r\n    ripples: [],\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('mouseup', this.removeRipple);\r\n  }\r\n  \r\n  componentWillUnmount() {\r\n    document.removeEventListener('mouseup', this.removeRipple);\r\n  }\r\n\r\n  saveRef = name => (ref) => {\r\n    this[name] = ref;\r\n  }\r\n\r\n  handleMouseDown = (e) => {\r\n    const wrapperHeight = this.rippleWrapper.getBoundingClientRect().height;\r\n    const wrapperWidth = this.rippleWrapper.getBoundingClientRect().width;\r\n    // 半径\r\n    const r = Math.sqrt(wrapperHeight * wrapperHeight + wrapperWidth * wrapperWidth);\r\n    const left = e.clientX - this.rippleWrapper.getBoundingClientRect().left - r;\r\n    const top = e.clientY - this.rippleWrapper.getBoundingClientRect().top - r;\r\n    const { ripples, index } = this.state;\r\n    const ripple = <Ripple key={index} r={r} left={left} top={top} />;\r\n    this.setState({\r\n      index: index + 1,\r\n      ripples: [...ripples, ripple],\r\n    });\r\n  }\r\n\r\n  removeRipple = () => {\r\n    const { ripples } = this.state;\r\n    if (ripples && ripples.length) {\r\n      this.setState({\r\n        ripples: [],\r\n      });\r\n    }\r\n  }\r\n\r\n  rippleChild = () => {\r\n    const { ripples } = this.state;\r\n    const rippleWrapper = (\r\n      <span ref={this.saveRef('rippleWrapper')} className=\"ripple-wrapper\">\r\n        <TransitionGroup component={null}>\r\n          {ripples}\r\n        </TransitionGroup>\r\n      </span>\r\n    );\r\n    return rippleWrapper;\r\n  }\r\n\r\n\r\n  renderChildrenWithRipple = () => {\r\n    const child = React.Children.only(this.props.children);\r\n    const { children, style } = child.props;\r\n    return React.cloneElement(this.props.children, {\r\n      ref: this.saveRef('chil'),\r\n      onMouseDown: this.handleMouseDown,\r\n      children: [\r\n        children,\r\n        this.rippleChild(),\r\n      ],\r\n      style: {\r\n        ...style,\r\n        position: 'relative',\r\n      },\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return this.renderChildrenWithRipple();\r\n  }\r\n}\r\n\r\nMaterial.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n};\r\n\r\nexport default Material;\r\n","import React, { Component } from 'react';\r\nimport { Transition } from 'react-transition-group';\r\nimport classNames from './classnames';\r\n\r\nconst duration = 600;\r\nexport default class Ripple extends Component {\r\n  state={\r\n    entering: false,\r\n    leaving: false,\r\n  }\r\n\r\n  onEnter = (node) => {\r\n    // console.log('onEnter box');\r\n    setTimeout(() => {\r\n      this.setState({\r\n        entering: true,\r\n      });\r\n    }, 0);\r\n  };\r\n\r\n  onExit = (node) => {\r\n    this.setState({\r\n      leaving: true,\r\n    });\r\n    // console.log('onExit box');\r\n  };\r\n\r\n  render() {   \r\n    const {\r\n      r, left, top, ...otherProps \r\n    } = this.props;\r\n    const { entering, leaving } = this.state;\r\n    return (\r\n      <Transition\r\n        {...otherProps}\r\n        timeout={{\r\n          enter: duration,\r\n          exit: duration,\r\n        }}\r\n        onEnter={this.onEnter}\r\n        onExit={this.onExit}\r\n      >\r\n        <div \r\n          className={\r\n            classNames(\r\n              'ripple', \r\n              {\r\n                'ripple-active': entering,\r\n                'ripple-done': leaving,\r\n              },\r\n            )}\r\n          style={{\r\n            width: r * 2, height: r * 2, left, top, \r\n          }}\r\n        />\r\n      </Transition>\r\n    );\r\n  }\r\n}\r\n","export default function classNames(...args) {\r\n  const classes = [];\r\n  args.forEach((arg) => {\r\n    if (typeof (arg) === 'string') {\r\n      classes.push(arg);\r\n    } else if (typeof (arg) === 'object') {\r\n      Object.keys(arg).forEach((className) => {\r\n        if (arg[className]) {\r\n          classes.push(className);\r\n        }\r\n      });\r\n    }\r\n  });\r\n  return classes.join(' ');\r\n}\r\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--4-2!./Material.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--4-2!./Material.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--4-2!./Material.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}