{"version":3,"sources":["webpack:///./src/test-cases/Rxjs/Rxjs.js"],"names":["observable","from","subscribe","num","console","log","docElm","document","documentElement","clientWidth","clientHeight","lerp","start","end","dx","x","dy","y","Rxjs","_this","this","animationFrame$","interval","animationFrameScheduler","positions","fromEvent","findDOMNode","outer","pipe","map","event","clientX","clientY","withLatestFrom","frame","move","scan","current","next","_ref","inner","rotX","rotY","style","concat","innerHTML","_this2","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","width","height","ref","background","Component","propTypes","__webpack_exports__"],"mappings":"oqFAWA,IAAMA,WAAaC,4CAAK,CAAC,EAAG,EAAG,EAAG,IAClCD,WAAWE,UAAU,SAACC,GACpBC,QAAQC,IAAIF,KAEdH,WAAWE,UAAU,SAACC,GACpBC,QAAQC,IAAI,IAAIF,KAElB,IAAMG,OAASC,SAASC,gBAChBC,YAA8BH,OAA9BG,YAAaC,aAAiBJ,OAAjBI,aACrB,SAASC,KAAKC,EAAOC,GACnB,IAAMC,EAAKD,EAAIE,EAAIH,EAAMG,EACnBC,EAAKH,EAAII,EAAIL,EAAMK,EAEzB,MAAO,CACLF,EAAGH,EAAMG,EAAS,GAALD,EACbG,EAAGL,EAAMK,EAAS,GAALD,OAIXE,wPACgB,IAAAC,EAAAC,KACZC,EAAkBC,4CAAS,EAAGC,qCAG9BC,EADYC,4CAAUC,2DAAYN,KAAKO,OAAQ,aACzBC,KAAKC,sDAAI,SAAAC,GAAK,MAAK,CAAEf,EAAGe,EAAMC,QAASd,EAAGa,EAAME,YACxDX,EACjBO,KAAKK,sDAAeT,EAAW,SAACU,EAAOC,GAAR,OAAiBA,KAChDP,KAAKQ,sDAAK,SAACC,EAASC,GAAV,OAAmB3B,KAAK0B,EAASC,MAElCpC,UAAU,SAAAqC,GAAc,IAAXxB,EAAWwB,EAAXxB,EAAGE,EAAQsB,EAARtB,EACpBuB,EAAQd,2DAAYP,EAAKqB,OACzBC,EAAQxB,EAAIP,cAAgB,GAAM,GAClCgC,EAAQ3B,EAAIN,YAAc,GAAM,GACtC+B,EAAMG,MAAN,8DAAAC,OAA4EH,EAA5E,iBAAAG,OAAgGF,EAAhG,SAEAF,EAAMK,UAAN,GAAAD,OAAqB7B,EAArB,MAAA6B,OAA2B3B,sCAItB,IAAA6B,EAAA1B,KACP,OACE2B,2CAAAC,EAAAC,cAAA,kBAEEF,2CAAAC,EAAAC,cAAA,OAAKN,MAAO,CAAEO,MAAO,IAAKC,OAAQ,KAAOC,IAAK,SAACzB,GAAYmB,EAAKnB,MAAQA,IACtEoB,2CAAAC,EAAAC,cAAA,OAAKN,MAAO,CAAEO,MAAO,OAAQC,OAAQ,OAAQE,WAAY,OAASD,IAAK,SAACZ,GAAYM,EAAKN,MAAQA,0IAzBxFc,8CAkCnBpC,KAAKqC,UAAY,gBAIFrC,gCAAAsC,oBAAA,wKAzDTxD,sHAOAM,8GACEG,wHAAaC,0HACZC,0GAUHO","file":"app/chunks/37.32a18.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { findDOMNode } from 'react-dom'\r\nimport PropTypes from 'prop-types';\r\nimport { Observable, from, interval, fromEvent, animationFrameScheduler } from 'rxjs';\r\nimport { map, withLatestFrom, scan } from 'rxjs/operators';\r\n// import { Subject } from 'rxjs/Subject';\r\n// import 'rxjs/add/operator/map';\r\n// import 'rxjs/add/operator/takeUntil';\r\n// import 'rxjs/add/observable/zip';\r\n// import 'rxjs/add/observable/of';\r\n// import 'rxjs/add/observable/fromPromise';\r\nconst observable = from([1, 2, 3, 4]);\r\nobservable.subscribe((num) => {\r\n  console.log(num)\r\n})\r\nobservable.subscribe((num) => {\r\n  console.log('a'+num)\r\n})\r\nconst docElm = document.documentElement;\r\nconst { clientWidth, clientHeight } = docElm;\r\nfunction lerp(start, end) {\r\n  const dx = end.x - start.x;\r\n  const dy = end.y - start.y;\r\n\r\n  return {\r\n    x: start.x + dx * 0.1,\r\n    y: start.y + dy * 0.1,\r\n  };\r\n}\r\n\r\nclass Rxjs extends Component {\r\n  componentDidMount() {\r\n    const animationFrame$ = interval(0, animationFrameScheduler);\r\n\r\n    const mouseMove = fromEvent(findDOMNode(this.outer), 'mousemove')\r\n    const positions = mouseMove.pipe(map(event => ({ x: event.clientX, y: event.clientY })));\r\n    const smoothMove$ = animationFrame$\r\n      .pipe(withLatestFrom(positions, (frame, move) => move))\r\n      .pipe(scan((current, next) => lerp(current, next)));\r\n\r\n    smoothMove$.subscribe(({ x, y }) => {\r\n      const inner = findDOMNode(this.inner)\r\n      const rotX = (y / clientHeight * -50) - 25;\r\n      const rotY = (x / clientWidth * 50) - 25;\r\n      inner.style = `width: 100%; height:100%;background:red;transform: rotateX(${rotX}deg) rotateY(${rotY}deg);`;\r\n\r\n      inner.innerHTML = `${x}, ${y}`\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        Rxjs\r\n        <div style={{ width: 500, height: 500 }} ref={(outer) => { this.outer = outer; }}>\r\n          <div style={{ width: '100%', height: '100%', background: 'red' }} ref={(inner) => { this.inner = inner; }}>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nRxjs.propTypes = {\r\n\r\n};\r\n\r\nexport default Rxjs;\r\n"],"sourceRoot":""}