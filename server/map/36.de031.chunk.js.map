{"version":3,"sources":["webpack:///./src/test-cases/ResizeAble/Test.js","webpack:///./src/test-cases/ResizeAble/ResizeAble.js"],"names":["Test","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","_ResizeAble__WEBPACK_IMPORTED_MODULE_1__","modes","size","maxHeight","maxWidth","defaultSize","width","height","style","textAlign","Component","__webpack_exports__","MODES","top","cursor","right","bottom","left","topRight","bottomRight","bottomLeft","topLeft","propTypes","PropTypes","shape","oneOfType","number","string","minHeight","minWidth","ResizeAble","props","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","saveRef","name","ref","handleMouseDown","mode","e","stopPropagation","preventDefault","setState","resizing","originSize","resizable","offsetWidth","offsetHeight","x","clientX","y","clientY","document","addEventListener","handleMouseUp","handleMouseMove","removeEventListener","getResizeWidth","vary","state","initWidth","Width","undefined","Math","max","getResizeHeight","initHeight","Height","_this$state","concat","_this2","_this$props","children","_this$state2","className","position","zIndex","map","role","key","_objectSpread","onMouseDown","bind"],"mappings":"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","file":"app/chunks/36.de031.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport ResizeAble from './ResizeAble';\n\nclass Test extends Component {\n  render() {\n    return (\n      <div>\n        <ResizeAble\n          modes={['top', 'right', 'bottom', 'left', 'bottomRight', 'topRight', 'bottomLeft', 'topLeft'] || ['right', 'bottom']}\n          size={{\n            maxHeight: 500,\n            // minWidth: 100,\n            maxWidth: 500,\n          }}\n          defaultSize={{\n            width: 200,\n            height: 200,\n          }}\n        >\n          <div style={{ textAlign: 'center' }}>可变大小的div</div>\n        </ResizeAble>\n      </div>\n    );\n  }\n}\n\n\nexport default Test;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\n\nconst MODES = {\n  top: {\n    cursor: 'row-resize',\n    top: -5,\n    width: '100%',\n    height: 10,\n  },\n  right: {\n    right: -5,\n    top: 0,\n    width: 10,\n    height: '100%',\n    cursor: 'col-resize',\n  },\n  bottom: {\n    bottom: -5,\n    width: '100%',\n    height: 10,\n    cursor: 'row-resize',\n  },\n  left: {\n    left: -5,\n    top: 0,\n    width: 10,\n    height: '100%',\n    cursor: 'col-resize',\n  },\n  topRight: {\n    height: 20,\n    width: 20,\n    right: -10,\n    top: -10,\n    cursor: 'ne-resize',\n  },\n  bottomRight: {\n    height: 20,\n    width: 20,\n    right: -10,\n    bottom: -10,\n    cursor: 'se-resize',\n  },\n  bottomLeft: {\n    height: 20,\n    width: 20,\n    bottom: -10,\n    left: -10,\n    cursor: 'sw-resize',\n  },\n  topLeft: {\n    height: 20,\n    width: 20,\n    left: -10,\n    top: -10,\n    cursor: 'nw-resize',\n  },\n};\nconst propTypes = {\n  defaultSize: PropTypes.shape({\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  }),\n  size: PropTypes.shape({\n    maxHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    maxWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    minHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    minWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  }),\n};\nclass ResizeAble extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      resizing: false,\n      originSize: {\n        width: 0,\n        height: 0,\n        x: 0,\n        y: 0,\n      },\n      mode: null,\n    };\n    this.mode = null;\n    this.size = {\n      width: props.defaultSize ? props.defaultSize.width : 'auto',\n      height: props.defaultSize ? props.defaultSize.height : 'auto',\n    };\n  }\n\n\n  saveRef = name => (ref) => {\n    this[name] = ref;\n  }\n\n  handleMouseDown = (mode, e) => {\n    e.stopPropagation();\n    e.preventDefault();\n    // 设置默认值\n    this.setState({\n      mode,\n      resizing: true,\n      originSize: {\n        width: this.resizable.offsetWidth,\n        height: this.resizable.offsetHeight,\n        x: e.clientX,\n        y: e.clientY,\n      },\n    });\n    document.addEventListener('mouseup', this.handleMouseUp);\n    document.addEventListener('mousemove', this.handleMouseMove);\n  }\n\n  handleMouseUp = (e) => {\n    document.removeEventListener('mousemove', this.handleMouseMove);\n    document.removeEventListener('mouseup', this.handleMouseUp);\n    this.setState({\n      resizing: false,\n    });\n  }\n\n  getResizeWidth = (vary) => {\n    const { originSize } = this.state;\n    const { width: initWidth, height: initHeight } = originSize;\n    const { size } = this.props || {};\n    const {\n      height, width, minHeight, minWidth, maxHeight, maxWidth,\n    } = size;\n    let Width = 0;\n    if (maxWidth !== undefined && initWidth + vary > maxWidth) {\n      Width = maxWidth;\n    } else if (minWidth !== undefined && initWidth + vary < minWidth) {\n      Width = minWidth;\n    } else {\n      Width = initWidth + vary;\n    }\n    return Math.max(Width, 0);\n    // this.resizable.style.width = `${initWidth + vary}px`;\n  }\n\n  getResizeHeight = (vary) => {\n    const { originSize } = this.state;\n    const { width: initWidth, height: initHeight } = originSize;\n    const { size } = this.props || {};\n    const {\n      height, width, minHeight, minWidth, maxHeight, maxWidth,\n    } = size;\n    let Height = 0;\n\n    if (maxHeight !== undefined && initHeight + vary > maxHeight) {\n      Height = maxHeight;\n    } else if (minHeight !== undefined && initHeight + vary < minHeight) {\n      Height = minHeight;\n    } else {\n      Height = initHeight + vary;\n    }\n    return Math.max(Height, 0);\n    // this.resizable.style.height = `${initHeight + vary}px`;\n  }\n\n  handleMouseMove = (e) => {\n    e.stopPropagation();\n    e.preventDefault();\n    const { mode, originSize } = this.state;\n    const { x, y } = originSize;\n    let { width, height } = originSize;\n\n    switch (mode) {\n      case 'top': {\n        height = this.getResizeHeight(y - e.clientY);\n        break;\n      }\n      case 'topRight': {\n        height = this.getResizeHeight(y - e.clientY);\n        width = this.getResizeWidth(e.clientX - x);\n        break;\n      }\n      case 'right': {\n        width = this.getResizeWidth(e.clientX - x);\n        break;\n      }\n      case 'bottomRight': {\n        width = this.getResizeWidth(e.clientX - x);\n        height = this.getResizeHeight(e.clientY - y);\n        break;\n      }\n      case 'bottom': {\n        height = this.getResizeHeight(e.clientY - y);\n        break;\n      }\n      case 'bottomLeft': {\n        height = this.getResizeHeight(e.clientY - y);\n        width = this.getResizeWidth(x - e.clientX);\n        break;\n      }\n      case 'left': {\n        width = this.getResizeWidth(x - e.clientX);\n        break;\n      }\n      case 'topLeft': {\n        height = this.getResizeHeight(y - e.clientY);\n        width = this.getResizeWidth(x - e.clientX);\n        break;\n      }\n      default: break;\n    }\n    this.resizable.style.width = `${width}px`;\n    this.resizable.style.height = `${height}px`;\n    this.size = {\n      width,\n      height,\n    };\n  }\n\n  render() {\n    const { modes, children, defaultSize } = this.props;\n    const { resizing, mode } = this.state;\n    return (\n      <div\n        className=\"resizable\"\n        ref={this.saveRef('resizable')}\n        style={defaultSize}\n      >\n        {/* 拖动时，创建一个蒙层来显示拖动效果，防止鼠标指针闪烁 */}\n        {resizing && (\n          <div style={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            bottom: 0,\n            right: 0,\n            zIndex: 9999,\n            cursor: MODES[mode].cursor,\n          }}\n          />\n        )}\n        {children}\n        {\n          modes.map(position => <div role=\"none\" key={position} style={{ position: 'absolute', ...MODES[position] }} onMouseDown={this.handleMouseDown.bind(this, position)} />)\n        }\n      </div>\n    );\n  }\n}\n\nResizeAble.propTypes = propTypes;\n\nexport default ResizeAble;\n"],"sourceRoot":""}