{"version":3,"sources":["webpack:///./src/test-cases/TimeLine/TimeLineStore.js","webpack:///./src/test-cases/TimeLine/Line.js","webpack:///./src/test-cases/TimeLine/Point.js","webpack:///./src/test-cases/TimeLine/HoverPoint.js","webpack:///./src/test-cases/TimeLine/AlignBox.js"],"names":["TimeLineStore","toJS","this","HeightLightDuring","StickData","observable","start","end","offsetTop","singleWidth","proId","range","marks","action","_this","_this2","computed","__webpack_exports__","moment","extendMoment","Moment","MOVE_COLOR","Line","props","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","call","saveRef","name","ref","setStick","_this$props","setStickData","setCurrentDate","pos","currentDate","state","_this$props2","diffDay","Math","floor","newCurrentDay","add","isSame","setState","handleMouseEnter","e","activePoint","left","line","getBoundingClientRect","clientX","pointing","document","addEventListener","handleMouseMove","handleMouseLeave","removeEventListener","_this$line$getBoundin2","width","min","calculateLeft","date","_this$props3","diff","renderHeightLightDuring","_this$props4","_ref","_this$props5","startLeft","endLeft","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","_AlignBox__WEBPACK_IMPORTED_MODULE_7__","style","display","marginTop","background","color","border","concat","borderRadius","format","_this$state","className","onMouseEnter","onMouseLeave","_Point__WEBPACK_IMPORTED_MODULE_6__","reverse","size","subtract","_HoverPoint__WEBPACK_IMPORTED_MODULE_5__","length","map","mark","key","title","height","zIndex","Component","propTypes","Point","_extends","_objectSpread","transform","defaultProps","PropTypes","oneOf","HoverPoint","_Point__WEBPACK_IMPORTED_MODULE_2__","AlignBox","setLeft","node","findDOMNode","_assertThisInitialized","contentWidth","offsetWidth","totalWidth","parentNode","finalLeft","max","round","abs","prevProps","prevState","position","children"],"mappings":"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","file":"app/chunks/5.547a9.chunk.js","sourcesContent":["import {\n  observable, action, computed, toJS,\n} from 'mobx';\nimport moment from 'moment';\n\nclass TimeLineStore {\n  @observable HeightLightDuring = {\n    start: null,\n    end: null,\n    offsetTop: 0,\n  };\n\n  @observable StickData = {\n    singleWidth: 0,\n    proId: null,\n    range: { start: null, end: null },\n    HeightLightDuring: {},  \n    marks: [],\n  };\n\n  @action setHeightLightDuring = (HeightLightDuring) => {\n    // console.log(HeightLightDuring);\n    this.HeightLightDuring = HeightLightDuring;\n  }\n\n  @action setStickData = (StickData) => {\n    this.StickData = StickData;\n  }\n\n  @computed get getHeightLightDuring() {\n    return toJS(this.HeightLightDuring);\n  }\n\n  @computed get getStickData() {\n    return toJS(this.StickData);\n  }\n}\n\nexport default new TimeLineStore();\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Moment from 'moment';\nimport { findDOMNode } from 'react-dom';\nimport { extendMoment } from 'moment-range';\nimport HoverPoint from './HoverPoint';\nimport Point from './Point';\nimport AlignBox from './AlignBox';\nimport TimeLineStore from './TimeLineStore';\n\nconst moment = extendMoment(Moment);\nconst MOVE_COLOR = 'rgb(0, 101, 255)';\n\nclass Line extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pointing: false,\n      left: 0,\n      currentDate: props.range.start,\n      // singleWidth: 0,      \n      activePoint: 'move',\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    const { singleWidth, range } = props;\n    return { currentDate: range.start };\n  }\n\n  saveRef = name => (ref) => {\n    this[name] = ref;\n  }\n\n  setStick = () => {\n    const {\n      singleWidth, proId, range, HeightLightDuring, marks,\n    } = this.props;\n\n    TimeLineStore.setStickData({\n      singleWidth, proId, range, HeightLightDuring, marks,\n    });\n  }\n\n  setCurrentDate = (pos) => {\n    const { currentDate } = this.state;\n    const { singleWidth, range } = this.props;\n    // 向上舍入，因为时间点应该标记在时间的末尾\n    const diffDay = Math.floor(pos / singleWidth);\n    // console.log(pos, diffDay, singleWidth);\n    const newCurrentDay = moment(range.start).add(diffDay, 'days');\n\n    if (!moment(currentDate).isSame(newCurrentDay, 'day')) {\n      this.setState({\n        currentDate: newCurrentDay,\n      });\n    }\n  }\n\n  handleMouseEnter = (e) => {\n    const { activePoint } = this.state;\n    const { left } = this.line.getBoundingClientRect();\n    const pos = e.clientX - left;\n\n    this.setCurrentDate(e.clientX - left);\n    this.setState({\n      pointing: activePoint === 'move',\n      left: pos,\n    });\n    document.addEventListener('mousemove', this.handleMouseMove);\n  }\n\n  handleMouseLeave = (e) => {\n    // console.log('leave');\n    this.setState({\n      pointing: false,\n    });\n    document.removeEventListener('mousemove', this.handleMouseMove);\n  }\n\n  handleMouseMove = (e) => {\n    const { activePoint } = this.state;\n    const { left, width } = this.line.getBoundingClientRect();\n    const pos = Math.min(e.clientX - left, width - 8); // 保证向右，不会超出\n    this.setCurrentDate(e.clientX - left);\n    this.setState({\n      pointing: activePoint === 'move',\n      left: pos,\n    });\n  }\n\n  calculateLeft = (date) => {\n    const { singleWidth, range } = this.props;\n    const tempRange = moment.range(moment(range.start), date);\n    return (tempRange.diff('days') + 1) * singleWidth;\n  }\n\n  renderHeightLightDuring = () => {\n    const { HeightLightDuring, proId } = this.props;\n\n    const { start, end, offsetTop } = HeightLightDuring || {};\n    if (!start || !end || proId !== HeightLightDuring.proId) {\n      return null;\n    }\n    const { singleWidth, range } = this.props;\n    const startLeft = moment(start).diff(moment(range.start), 'days') * singleWidth;\n    const width = (moment(end).diff(moment(start), 'days') + 1) * singleWidth;\n    const endLeft = startLeft + width;\n    return [\n      <AlignBox left={startLeft}>\n        <span\n          style={{\n            display: 'inline-block',\n            marginTop: 8,\n            background: 'white',\n            color: MOVE_COLOR,\n            border: `1px solid ${MOVE_COLOR}`,\n            borderRadius: 5,\n          }}\n        >\n          {moment(start).format('LL')}\n        </span>\n      </AlignBox>,\n      <AlignBox left={endLeft}>\n        <span\n          style={{\n            display: 'inline-block',\n            marginTop: 8,\n            background: 'white',\n            color: MOVE_COLOR,\n            border: `1px solid ${MOVE_COLOR}`,\n            borderRadius: 5,\n          }}\n        >\n          {moment(end).format('LL')}\n        </span>\n      </AlignBox>,\n    ];\n  }\n\n  render() {\n    const {\n      pointing, left, currentDate, activePoint,\n    } = this.state;\n    const { marks } = this.props;\n    return (\n      <div className=\"TimeLine-line-container\">\n        <div className=\"TimeLine-line\" onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave} ref={this.saveRef('line')}>\n          {pointing && <Point left={left} reverse color=\"rgb(0, 101, 255)\" date={currentDate} />}\n          {/* 当前时间点 */}\n          <Point size=\"small\" color=\"orange\" reverse left={this.calculateLeft(moment().subtract(1, 'days'))} />\n          {/* 显示开始时间 */}\n          <HoverPoint\n            color=\"gray\"\n            left={8}\n            onMouseEnter={() => {\n              this.setState({\n                activePoint: 'start',\n              });\n            }}\n            onMouseLeave={() => {\n              this.setState({\n                activePoint: 'move',\n              });\n            }}\n          />\n        </div>\n        {/* 轴上的标记点 */}\n        <div>\n          {\n            marks && marks.length && marks.map(mark => (\n              <HoverPoint\n                key={mark.title}\n                left={this.calculateLeft(mark.date)}\n                onMouseEnter={() => {\n                  this.setState({\n                    activePoint: mark.key,\n                  });\n                }}\n                onMouseLeave={() => {\n                  this.setState({\n                    activePoint: 'move',\n                  });\n                }}\n              />\n            ))\n          }\n        </div>\n        {/* 内容区域 */}\n        <div style={{ height: 40 }}>\n          {/* 开始时间 */}\n          <AlignBox left={0} zIndex={activePoint === 'start' ? 5 : 1}>\n            <span\n              style={{\n                display: 'inline-block',\n                marginTop: 8,\n                background: 'white',\n                color: 'gray',\n                border: activePoint === 'start' && '1px solid gray',\n                borderRadius: 5,\n\n              }}\n            >\n              {`${moment().format('LL')}-开始`}\n            </span>\n          </AlignBox>\n          <div>\n            {\n              marks && marks.length && marks.map(mark => (\n                <AlignBox left={this.calculateLeft(mark.date)}>\n                  <span\n                    key={mark.title}\n                    style={{\n                      display: 'inline-block',\n                      marginTop: 8,\n                      background: 'white',\n                      color: 'rgb(54, 179, 126)',\n                      border: activePoint === mark.key && '1px solid rgb(54, 179, 126)',\n                      zIndex: activePoint === mark.key && 5,\n                    }}\n                  >\n                    {`${mark.date.format('LL')}-${mark.title}`}\n                  </span>\n                </AlignBox>\n              ))\n            }\n          </div>\n          {/* 实时滚动时间 */}\n          <div>\n            {pointing && (\n              <AlignBox left={left} zIndex={6}>\n                <span\n                  style={{\n                    display: 'inline-block',\n                    marginTop: 8,\n                    // transform: 'translateX(-50%)',\n                    background: 'white',\n                    color: MOVE_COLOR,\n                    border: `1px solid ${MOVE_COLOR}`,\n                    borderRadius: 5,\n                  }}\n                >\n                  {moment(currentDate).format('LL')}\n                </span>\n              </AlignBox>\n            )}\n          </div>\n          <div>\n            {this.renderHeightLightDuring()}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nLine.propTypes = {\n\n};\n\nexport default Line;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Point extends Component {\n  static defaultProps = {\n    size: 'medium',\n  }\n\n  saveRef = name => (ref) => {\n    this[name] = ref;\n  }\n\n  render() {\n    const {\n      color, left, reverse, size, \n    } = this.props;\n\n    return (\n      <div\n        className=\"Point\"\n        ref={this.saveRef('Point')}\n        {...this.props}\n        style={{\n          background: reverse ? color : 'white',\n          left: left || 0,\n          transform: size === 'small' && 'scale(0.6)',\n          ...this.props.style,\n        }}\n      >\n        <div\n          className=\"Point-inner\"\n          style={{\n            background: reverse ? 'white' : color,\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nPoint.propTypes = {\n  size: PropTypes.oneOf(['small', 'medium']),\n};\n\nexport default Point;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Point from './Point';\n\nclass HoverPoint extends Component {\n  state = {\n    pointing: false,\n    color: 'rgb(54, 179, 126)',\n  }\n\n  handleMouseEnter = (e) => {\n    // e.stopPropagation();\n    // e.preventDefault();\n    this.setState({\n      pointing: true,\n    });\n    if (this.props.onMouseEnter) {\n      this.props.onMouseEnter();\n    }\n  }\n\n  handleMouseLeave = (e) => {\n    // e.stopPropagation();\n    // e.preventDefault();\n    this.setState({\n      pointing: false,\n    });\n    if (this.props.onMouseLeave) {\n      this.props.onMouseLeave();\n    }\n  }\n\n  render() {\n    const { pointing, color } = this.state;\n    return (\n      <Point \n        color={color}       \n        {...this.props}\n        onMouseEnter={this.handleMouseEnter}\n        onMouseLeave={this.handleMouseLeave}        \n        reverse={pointing}\n        // contentShow={pointing}        \n      />      \n    );\n  }\n}\n\nHoverPoint.propTypes = {\n\n};\n\nexport default HoverPoint;\n","/*\n * @Author: LainCarl \n * @Date: 2018-12-26 17:47:28 \n * @Last Modified by: LainCarl\n * @Last Modified time: 2018-12-26 18:07:44\n * @Feature: 保证点的描述渲染位置正确\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\n\nclass AlignBox extends Component {\n  state = {\n    left: 0,\n  }\n\n  static defaultProps = {\n    totalWidth: 0,\n    zIndex: 0,\n  }\n\n  componentDidMount() {\n    this.setLeft();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    this.setLeft();\n  }\n\n  setLeft = () => {\n    const { left } = this.props;\n    const node = findDOMNode(this);\n    const contentWidth = node.offsetWidth + 2;\n    // 父元素的宽度\n    const totalWidth = node.parentNode.offsetWidth;\n    let finalLeft = left; \n    finalLeft -= contentWidth / 2;// 向左移动，居中    \n    finalLeft = Math.min(finalLeft, totalWidth - contentWidth);// 保证向右不会超出父元素   \n    finalLeft = Math.max(0, finalLeft);// 保证向左不会超出父元素\n    finalLeft = Math.round(finalLeft);   \n\n    // 防止渲染死循环\n    if (Math.abs(this.state.left - finalLeft) > 1) {\n      this.setState({\n        left: finalLeft,\n      });\n    }\n  }\n\n  render() {\n    const { left } = this.state;\n    const { zIndex } = this.props;\n    return (\n      <div style={{\n        display: 'inline-block', position: 'absolute', left, zIndex, \n      }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nAlignBox.propTypes = {\n\n};\n\nexport default AlignBox;\n"],"sourceRoot":""}