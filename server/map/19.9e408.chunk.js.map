{"version":3,"sources":["webpack:///./src/test-cases/Anchor/Test.js","webpack:///./src/test-cases/Anchor/Anchor.css","webpack:///./src/test-cases/Anchor/AnchorContext.js","webpack:///./src/test-cases/Anchor/Anchor.js","webpack:///./src/test-cases/Anchor/Point.js","webpack:///./src/test-cases/Anchor/Pointer.js","webpack:///./src/test-cases/Anchor/withAnchor.js","webpack:///./src/test-cases/Anchor/Anchor.css?3d47"],"names":["Point","Anchor","Pointer","Test","_this","this","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","_Anchor__WEBPACK_IMPORTED_MODULE_1__","getContainer","scroll","style","display","ref","height","width","overflow","border","id","to","Component","propTypes","__webpack_exports__","module","exports","__webpack_require__","push","i","AnchorContext","React","createContext","state","current","points","props","handleScroll","e","length","point","offsetTop","offsetHeight","scrollTop","setState","collectPoints","handleScrollTo","scrollIntoView","behavior","block","addEventListener","removeEventListener","_AnchorContext__WEBPACK_IMPORTED_MODULE_3__","Provider","value","addPoint","scrollTo","children","defaultProps","document","withAnchor","_this$props","anchor","ReactDOM","findDOMNode","active","handlePointerClick","_this$props2","role","color","cursor","onClick","_AnchorContext__WEBPACK_IMPORTED_MODULE_1__","Consumer","_extends","content","options","hmr","transform","insertInto","undefined","update","locals","hot","accept","newContent","b","key","idx","Error","dispose"],"mappings":"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","file":"app/chunks/19.9e408.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport Anchor from './Anchor';\r\n\r\nconst { Point, Pointer } = Anchor;\r\nclass Test extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Anchor getContainer={() => this.scroll}>\r\n          <div style={{ display: 'flex' }}>\r\n            <div\r\n              ref={(scroll) => { this.scroll = scroll; }}\r\n              style={{\r\n                height: 500, width: 500, overflow: 'auto', border: '2px dashed gray',\r\n              }}\r\n            >\r\n              <Point id=\"point1\">\r\n                <div style={{ height: 600 }}>\r\n                Point1\r\n                </div>\r\n              </Point>\r\n              <Point id=\"point2\">\r\n                <div style={{ height: 500 }}>\r\n                Point2\r\n                </div>\r\n              </Point>\r\n            </div>\r\n            <div>\r\n              <Pointer to=\"point1\">\r\n                <div>\r\n                Pointer1\r\n                </div>\r\n              </Pointer>\r\n              <Pointer to=\"point2\">\r\n                <div>\r\n                Pointer2\r\n                </div>\r\n              </Pointer>\r\n            </div>\r\n          </div>\r\n        </Anchor>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTest.propTypes = {\r\n\r\n};\r\n\r\nexport default Test;\r\n","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n","import React from 'react';\r\n\r\nconst AnchorContext = React.createContext({});\r\nexport default AnchorContext;\r\n","import React, { Component, createContext } from 'react';\r\nimport Point from './Point';\r\nimport Pointer from './Pointer';\r\nimport AnchorContext from './AnchorContext';\r\nimport withAnchor from './withAnchor';\r\nimport './Anchor.css';\r\n\r\n\r\nclass Anchor extends Component {\r\n  static defaultProps = {\r\n    getContainer: () => document,\r\n  }\r\n\r\n  state = {\r\n    current: null,\r\n  }\r\n\r\n  points = [];\r\n\r\n\r\n  componentDidMount() {\r\n    this.getContainer().addEventListener('scroll', this.handleScroll);\r\n    this.handleScroll();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.getContainer().removeEventListener('scroll', this.handleScroll);\r\n  }\r\n\r\n  getContainer = () => this.props.getContainer()\r\n\r\n  handleScroll = (e) => {\r\n    for (let i = 0; i < this.points.length; i += 1) {\r\n      const point = this.points[i].ref;\r\n      if (point.offsetTop + point.offsetHeight > this.getContainer().scrollTop + 100) {       \r\n        this.setState({\r\n          current: this.points[i].id,\r\n        });\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  collectPoints = (point) => {\r\n    this.points.push(point);\r\n  }\r\n\r\n  handleScrollTo = (id) => {\r\n    for (let i = 0; i < this.points.length; i += 1) {\r\n      const pointId = this.points[i].id;\r\n      if (pointId === id) { \r\n        this.points[i].ref.scrollIntoView({\r\n          behavior: 'smooth',\r\n          block: 'start',\r\n          // inline: \"nearest\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { current } = this.state;\r\n    return (\r\n      <AnchorContext.Provider value={{\r\n        points: this.points,\r\n        current,\r\n        addPoint: this.collectPoints,\r\n        scrollTo: this.handleScrollTo,\r\n      }}\r\n      >\r\n        <div>\r\n          {this.props.children}\r\n        </div>\r\n      </AnchorContext.Provider>\r\n    );\r\n  }\r\n}\r\nAnchor.Point = withAnchor(Point);\r\nAnchor.Pointer = withAnchor(Pointer);\r\n\r\nexport default Anchor;\r\n","/* eslint-disable react/no-find-dom-node */\r\nimport React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nexport default class Point extends Component {\r\n  componentDidMount() {\r\n    const { anchor, id } = this.props;\r\n    const { points, addPoint } = anchor;    \r\n    addPoint({ ref: ReactDOM.findDOMNode(this), id });\r\n  }\r\n  \r\n  render() {\r\n    const { id } = this.props;\r\n    return <div {...this.props} />;\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nexport default class Pointer extends Component {\r\n  state={\r\n    active: false,\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    if (props.anchor.current === props.to) {\r\n      return {\r\n        active: true,\r\n      };\r\n    } else {\r\n      return {\r\n        active: false,\r\n      };\r\n    }\r\n  }\r\n\r\n  handlePointerClick=() => {\r\n    const { to, anchor } = this.props;\r\n    anchor.scrollTo(to);\r\n  }\r\n\r\n  render() {\r\n    const { anchor, children } = this.props;\r\n    const { active } = this.state;\r\n    const { points } = anchor;\r\n   \r\n    return (\r\n      <div role=\"none\" style={{ color: active && 'green', cursor: 'pointer' }} onClick={this.handlePointerClick}>\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport AnchorContext from './AnchorContext';\r\n\r\nexport default function withAnchor(Component) {\r\n  // ...and returns another component...\r\n  return function ThemedComponent(props) {\r\n    // ... and renders the wrapped component with the context theme!\r\n    // Notice that we pass through any additional props as well\r\n    return (\r\n      <AnchorContext.Consumer>\r\n        {anchor => <Component {...props} anchor={anchor} />}\r\n      </AnchorContext.Consumer>\r\n    );\r\n  };\r\n}\r\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--4-2!./Anchor.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--4-2!./Anchor.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--4-2!./Anchor.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}